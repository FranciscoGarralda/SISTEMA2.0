--- a/src/services/dataService.js
+++ b/src/services/dataService.js
@@ -120,10 +120,10 @@ class ApiService {
   constructor() {
     this.baseURL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3000/api';
     this.cache = new CacheService();
     this.localBackend = new LocalStorageBackend();
-    // Forzar modo local para desarrollo y cuando no hay servidor backend
-    this.isLocalMode = true; // Siempre usar modo local para simplicidad
+    // Determinar modo basado en configuración
+    this.isLocalMode = process.env.NEXT_PUBLIC_FORCE_LOCAL === 'true' || !process.env.NETLIFY_DATABASE_URL;
   }
 
   async request(endpoint, options = {}) {
     const url = `${this.baseURL}${endpoint}`;
@@ -140,7 +140,7 @@ class ApiService {
       return await response.json();
     } catch (error) {
       console.error(`API Error (${endpoint}):`, error);
-      throw error;
+      throw new Error(`API Error (${endpoint}): ${error.message}`);
     }
   }
 
@@ -200,7 +200,7 @@ class ApiService {
   // Métodos específicos del negocio
   async getMovements() {
     if (this.isLocalMode) {
-      return this.localBackend.get('movements') || [];
+      return await this.localBackend.get('movements') || [];
     }
     return this.get('/movements');
   }
@@ -218,7 +218,7 @@ class ApiService {
 
   async getClients() {
     if (this.isLocalMode) {
-      return this.localBackend.get('clients') || [];
+      return await this.localBackend.get('clients') || [];
     }
     return this.get('/clients');
   }
@@ -298,7 +298,7 @@ class ApiService {
 
   async getUsers() {
     if (this.isLocalMode) {
-      return this.localBackend.get('users') || [];
+      return await this.localBackend.get('users') || [];
     }
     return this.get('/users');
   }
@@ -400,7 +400,7 @@ class ApiService {
 
   async getStock() {
     if (this.isLocalMode) {
-      return this.localBackend.get('stock') || {};
+      return await this.localBackend.get('stock') || {};
     }
     return this.get('/stock');
   }
@@ -416,7 +416,7 @@ class ApiService {
 
   async getBalances() {
     if (this.isLocalMode) {
-      return this.localBackend.get('balances') || {};
+      return await this.localBackend.get('balances') || {};
     }
     return this.get('/balances');
   }
@@ -432,7 +432,7 @@ class ApiService {
 
   async getCajaData() {
     if (this.isLocalMode) {
-      return this.localBackend.get('caja') || {};
+      return await this.localBackend.get('caja') || {};
     }
     return this.get('/caja');
   }
@@ -448,7 +448,7 @@ class ApiService {
 
   async getInitialBalances() {
     if (this.isLocalMode) {
-      return this.localBackend.get('initialBalances') || {};
+      return await this.localBackend.get('initialBalances') || {};
     }
     return this.get('/initial-balances');
   }
@@ -464,7 +464,7 @@ class ApiService {
 
   async getCCBalances() {
     if (this.isLocalMode) {
-      return this.localBackend.get('ccBalances') || {};
+      return await this.localBackend.get('ccBalances') || {};
     }
     return this.get('/cc-balances');
   }
@@ -480,7 +480,7 @@ class ApiService {
 
   async getLenders() {
     if (this.isLocalMode) {
-      return this.localBackend.get('lenders') || [];
+      return await this.localBackend.get('lenders') || [];
     }
     return this.get('/lenders');
   }
@@ -523,7 +523,7 @@ class ApiService {
 
   async getExpenses() {
     if (this.isLocalMode) {
-      return this.localBackend.get('expenses') || [];
+      return await this.localBackend.get('expenses') || [];
     }
     return this.get('/expenses');
   }
@@ -566,7 +566,7 @@ class ApiService {
 
   async getCommissions() {
     if (this.isLocalMode) {
-      return this.localBackend.get('commissions') || [];
+      return await this.localBackend.get('commissions') || [];
     }
     return this.get('/commissions');
   }
@@ -585,7 +585,7 @@ class ApiService {
 
   async getPendingWithdrawals() {
     if (this.isLocalMode) {
-      return this.localBackend.get('pendingWithdrawals') || [];
+      return await this.localBackend.get('pendingWithdrawals') || [];
     }
     return this.get('/pending-withdrawals');
   }
@@ -628,7 +628,7 @@ class ApiService {
 
   async getProfitabilityData() {
     if (this.isLocalMode) {
-      return this.localBackend.get('profitability') || {};
+      return await this.localBackend.get('profitability') || {};
     }
     return this.get('/profitability');
   }
@@ -644,7 +644,7 @@ class ApiService {
 
   async getUtilityData() {
     if (this.isLocalMode) {
-      return this.localBackend.get('utility') || {};
+      return await this.localBackend.get('utility') || {};
     }
     return this.get('/utility');
   }
@@ -660,7 +660,7 @@ class ApiService {
 
   async getArbitrageData() {
     if (this.isLocalMode) {
-      return this.localBackend.get('arbitrage') || {};
+      return await this.localBackend.get('arbitrage') || {};
     }
     return this.get('/arbitrage');
   }
@@ -676,7 +676,7 @@ class ApiService {
 
   async getCurrentAccounts() {
     if (this.isLocalMode) {
-      return this.localBackend.get('currentAccounts') || [];
+      return await this.localBackend.get('currentAccounts') || [];
     }
     return this.get('/current-accounts');
   }
